---
import { SiteConfig } from "@/data/config";
import { navbarLinks } from "@/data/navbar";
import Logo from "./Logo.astro";
import ThemeToggle from "@/components/astro/ThemeToggle.astro";
---

<header
  class="relative bg-bg-400 flex justify-between items-center p-4 mb-5 rounded-md shadow-sm"
  role="banner"
>
  <div class="text-xl font-bold">
    <Logo />
  </div>

  <div class="flex items-center gap-1">
    <ThemeToggle />
    <button
      id="menu-btn"
      class="hamburger relative w-6 h-[18px] cursor-pointer text-base font-medium"
      aria-controls="menu"
      aria-expanded="false"
      aria-label="Toggle main navigation"
    >
      <span
        class="absolute left-0 w-full h-[2px] bg-text transition-all duration-300 ease-in-out"
      ></span>
      <span
        class="absolute left-0 w-full h-[2px] bg-text transition-all duration-300 ease-in-out"
      ></span>
      <span
        class="absolute left-0 w-full h-[2px] bg-text transition-all duration-300 ease-in-out"
      ></span>
    </button>

    <nav
      id="menu"
      class="menu flex flex-col items-start px-4 py-4 space-y-2 text-base font-medium shadow-md bg-bg-400"
      aria-label="Main navigation"
    >
      {
        navbarLinks.map((link) => (
          <a
            href={link.url}
            class="block py-2 text-text hover:text-text-100"
          >
            {link.title}
          </a>
        ))
      }
    </nav>
  </div>

  <script>
    const menuBtn = document.getElementById("menu-btn");
    const menu = document.getElementById("menu");

    if (menuBtn && menu) {
      menuBtn.addEventListener("click", () => {
        const expanded = menuBtn.getAttribute("aria-expanded") === "true";
        menuBtn.setAttribute("aria-expanded", String(!expanded));
        menuBtn.classList.toggle("active");
        menu.classList.toggle("show");
      });
    }
  </script>
</header>
