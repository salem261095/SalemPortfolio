---
import testimonialsData from "@/data/testimonials.json";
import H2 from "./H2.astro";
---

<style>
  .carousel-track {
    display: flex;
    overflow-x: auto;
    scroll-snap-type: x mandatory;
    scroll-behavior: smooth;
    -webkit-overflow-scrolling: touch;
    gap: 1rem;
    padding: 1rem;
  }

  .carousel-track::-webkit-scrollbar {
    display: none;
  }

  .testimonial-card {
    scroll-snap-align: start;
    flex: 0 0 100%;
    max-width: 100%;
    box-sizing: border-box;
  }
</style>

<section class="w-full max-w-xl mx-auto py-8 text-center">
  <H2 text="اراء العملاء" />

  <div id="carousel" class="carousel-track">
    {
      testimonialsData.map((testi) => (
        <div class="testimonial-card border rounded-lg p-6 bg-white dark:bg-zinc-900 dark:border-zinc-950">
          <p set:html={testi.content} />
          <div class="mt-6">
            <a href={testi.url} class="font-bold">{testi.Title}</a>
            <p class="text-sm mt-2 text-gray-500 dark:text-white">
              {testi.testimonialPosition}
            </p>
          </div>
        </div>
      ))
    }
  </div>
</section>
